/**
 * `crc` module.
 *
 * @module eslint-plugin-crc/crc/descriptors
 */

const astNodeFactories = require("requireindex")(__dirname);
const {values} = require("lodash");

class AstNodeFactoryMap extends Map {
  constructor (entries) {
    super(entries);
    values(astNodeFactories).forEach((nodeFactory) => {
      this.set(nodeFactory.descriptor, nodeFactory);
    });
  }
}

module.exports = {
  AstNodeFactoryMap,
  astNodeFactories,
  "astNodeFactoryMap": new AstNodeFactoryMap()
};
